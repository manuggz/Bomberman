\hypertarget{_2home_2manuggz_2_documents_2_projects_2_bomberman_2src_2engine_2interfaces_2_menu_list_label_8hpp-example}{}\section{/home/manuggz/\+Documents/\+Projects/\+Bomberman/src/engine/interfaces/\+Menu\+List\+Label.\+hpp}
Representa un menu de opciones simple en el que el usuario se puede desplazar usando las teclas UP y D\+O\+WN

Heredar esta clase y en el constructor agregar las opciones del menu en orden. menu\+Text\+Options.\+push\+\_\+back(\char`\"{}opcion i\char`\"{})

Luego se ejecutara ejecutar\+Accion\+Opcion\+Resaltada() cuando el usuario presione \mbox{[}E\+N\+T\+ER\mbox{]}.

chequear la variable m\+Opcion\+Menu\+Resaltada\+Actual para saber cual es la opcion resaltada actual.

class \hyperlink{class_menu_nuevo_juego}{Menu\+Nuevo\+Juego} \+: public \hyperlink{class_menu_list_label}{Menu\+List\+Label}\{ public\+: \hyperlink{class_menu_nuevo_juego}{Menu\+Nuevo\+Juego(\+Game\+Manager\+Interfaz\+U\+I $\ast$game)} \+: \hyperlink{class_menu_list_label}{Menu\+List\+Label(game)} \{ m\+Menu\+Opciones\+Text.\+push\+\_\+back(\char`\"{}\+Historia\char`\"{}); m\+Menu\+Opciones\+Text.\+push\+\_\+back(\char`\"{}\+Multiplayer\char`\"{}); m\+Menu\+Opciones\+Text.\+push\+\_\+back(\char`\"{}\+Conexion\char`\"{}); \} void ejecutar\+Accion\+Opcion\+Resaltada() \{ switch(m\+Opcion\+Menu\+Resaltada\+Actual)\{ case M\+E\+N\+U\+\_\+\+O\+P\+C\+I\+O\+N\+\_\+\+H\+I\+S\+T\+O\+R\+IA\+: break; case M\+E\+N\+U\+\_\+\+O\+P\+C\+I\+O\+N\+\_\+\+M\+U\+L\+T\+I\+P\+L\+A\+Y\+ER\+: break; case M\+E\+N\+U\+\_\+\+O\+P\+C\+I\+O\+N\+\_\+\+C\+O\+N\+E\+X\+I\+ON\+: break; default\+:break; \} \} private\+: typedef enum\{ M\+E\+N\+U\+\_\+\+O\+P\+C\+I\+O\+N\+\_\+\+H\+I\+S\+T\+O\+R\+IA, M\+E\+N\+U\+\_\+\+O\+P\+C\+I\+O\+N\+\_\+\+M\+U\+L\+T\+I\+P\+L\+A\+Y\+ER, M\+E\+N\+U\+\_\+\+O\+P\+C\+I\+O\+N\+\_\+\+C\+O\+N\+E\+X\+I\+ON, \}Menu\+Option;

\};


\begin{DoxyCodeInclude}
\textcolor{comment}{//}
\textcolor{comment}{// Created by manuggz on 20/11/16.}
\textcolor{comment}{//}

\textcolor{preprocessor}{#ifndef BOMBERMAN\_MENULISTLABEL\_HPP}
\textcolor{preprocessor}{#define BOMBERMAN\_MENULISTLABEL\_HPP}

\textcolor{preprocessor}{#include <SDL2/SDL.h>}
\textcolor{preprocessor}{#include "InterfazUI.hpp"}
\textcolor{preprocessor}{#include "../layout/LayoutManager/LayoutVertical.hpp"}
\textcolor{preprocessor}{#include "../layout/Componentes/LabelComponent.hpp"}


\textcolor{keyword}{const} \textcolor{keywordtype}{char} * rutaFont = \textcolor{stringliteral}{"data/fuentes/OpenSans-BoldItalic.ttf"};
\textcolor{keyword}{const} Uint8 sizeFont = 20;
\textcolor{keyword}{class }\hyperlink{class_menu_list_label}{MenuListLabel} : \textcolor{keyword}{public} \hyperlink{class_interfaz_u_i}{InterfazUI}\{
\textcolor{keyword}{public}:

    \hyperlink{class_menu_list_label}{MenuListLabel}(\hyperlink{class_game_manager_interfaz_u_i}{GameManagerInterfazUI} *gameManagerInterfaz)
            : \hyperlink{class_interfaz_u_i_aa6578b54c6ff801c9757ea6b9fdfba18}{InterfazUI}(gameManagerInterfaz) \{

    \}

    \textcolor{keywordtype}{void} \hyperlink{class_menu_list_label_aaa91bf445c3db2fa2008a06b5e96df24}{prepare}()\textcolor{keyword}{ override }\{
        \hyperlink{class_interfaz_u_i_a312ba3176f7778589cd67f1828682012}{InterfazUI::prepare}();
        mLayoutBackGround          = \textcolor{keyword}{new} \hyperlink{class_layout_vertical}{LayoutVertical}();
        mLayout                    = \textcolor{keyword}{new} \hyperlink{class_layout_vertical}{LayoutVertical}();
    \}

    \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \hyperlink{class_menu_list_label_aa4622ae2bc0bf7d31aa8fe8483103e27}{createUI}(SDL\_Renderer *renderer)\textcolor{keyword}{  override}\{

        \textcolor{comment}{// Establecemos el fondo con los parametros adecados para que ocupe toda la pantalla}
        mLayoutBackGround->setLayoutParam(LAYOUT\_PARAM\_FILL\_PARENT\_HEIGHT,LAYOUT\_PARAM\_TRUE);
        mLayoutBackGround->setLayoutParam(LAYOUT\_PARAM\_FILL\_PARENT\_WIDTH,LAYOUT\_PARAM\_TRUE);
        mLayoutBackGround->setLayoutParam(LAYOUT\_PARAM\_WRAP\_WIDTH,LAYOUT\_PARAM\_FALSE);
        mLayoutBackGround->setLayoutParam(LAYOUT\_PARAM\_WRAP\_HEIGHT,LAYOUT\_PARAM\_FALSE);
        mLayoutBackGround->\hyperlink{class_component_a0df4f4d3aaac6083dc6fe7c9ec1e9435}{setBackgroundColor}(SDL\_Color \{0,0,0,255\});

        \textcolor{comment}{//mLayoutBackGround->setBackgroundTexture(renderer,"data/imagenes/fondos/fondo\_menu.bmp",false);}

        \hyperlink{class_label_component}{LabelComponent} * nuevoTextLabel;
        \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0 ; i < mMenuOpcionesText.size() ; i++)\{
            nuevoTextLabel = \textcolor{keyword}{new} \hyperlink{class_label_component}{LabelComponent}();
            nuevoTextLabel->setFont(rutaFont,sizeFont);
            nuevoTextLabel->setTextColor(mColorLabelNormal);
            nuevoTextLabel->setText(mMenuOpcionesText[i]);
            menuTextOptions.push\_back(nuevoTextLabel);
            mLayout->addComponent(nuevoTextLabel);
            nuevoTextLabel->setLayoutParam(LAYOUT\_PARAM\_CENTER\_PARENT\_HORIZONTAL,LAYOUT\_PARAM\_TRUE);
        \}

        menuTextOptions[0]->setTextColor(mColorLabelResaltado);

        mLayoutBackGround->addComponent(mLayout);
        mLayout->setLayoutParam(LAYOUT\_PARAM\_CENTER\_PARENT\_HORIZONTAL,LAYOUT\_PARAM\_TRUE);
        mLayout->setLayoutParam(LAYOUT\_PARAM\_CENTER\_PARENT\_VERTICAL,LAYOUT\_PARAM\_TRUE);

        \textcolor{comment}{//packLayout(renderer);}

        \textcolor{keywordflow}{if}(menuTextOptions.size())\{
            mOpcionMenuResaltadaActual = 0;
        \}
        SDL\_ShowCursor(SDL\_DISABLE);\textcolor{comment}{//ocultamos el cursor}
        \textcolor{comment}{//mLayout->pack(renderer);}
    \}


    \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} resume()\textcolor{keyword}{ override }\{
        InterfazUI::resume();
        mLayoutBackGround->\hyperlink{class_component_a1440d7c2b2c4bfd8310931b54e8f4e61}{setDisabled}(\textcolor{keyword}{true});
        SDL\_ShowCursor(SDL\_DISABLE);\textcolor{comment}{//ocultamos el cursor}
    \}

     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \hyperlink{class_menu_list_label_aa4b43b15d99168836a26ce8e9cf996a6}{setOpcionResaltada}(\textcolor{keywordtype}{int} nuevaOpcion)\{
        \textcolor{keywordflow}{if}(nuevaOpcion >= 0 && nuevaOpcion < menuTextOptions.size())\{
            menuTextOptions[mOpcionMenuResaltadaActual]->setTextColor(mColorLabelNormal); \textcolor{comment}{// Cambiamos el
       color de la opcion}
            menuTextOptions[nuevaOpcion]->setTextColor(mColorLabelResaltado); \textcolor{comment}{// Cambiamos el color de la
       opcion}
            mLayoutBackGround->\hyperlink{class_component_a1440d7c2b2c4bfd8310931b54e8f4e61}{setDisabled}(\textcolor{keyword}{true}); \textcolor{comment}{// Para que se dibuje de nuevo}
            mOpcionMenuResaltadaActual =  nuevaOpcion;
            \textcolor{keywordflow}{return} \textcolor{keyword}{true};
        \}

        \textcolor{keywordflow}{return} \textcolor{keyword}{false};
    \}

    \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} ejecutarAccionOpcionResaltada() = 0;

    \textcolor{keywordtype}{void} \hyperlink{class_menu_list_label_a7fb1ac75f91fe00f38706f74f6148cd6}{procesarEvento}(SDL\_Event *evento)\textcolor{keyword}{ override }\{
        \textcolor{keywordflow}{if}(evento->type==SDL\_KEYDOWN)\{
            \textcolor{keywordflow}{switch}(evento->key.keysym.sym)\{
                \textcolor{keywordflow}{case} SDLK\_ESCAPE:
                    mGameManagerInterfaz->\hyperlink{class_game_manager_interfaz_u_i_aa3ee961c35993d96325520a8176d51f6}{goBack}();
                    \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{case} SDLK\_UP:
                    \hyperlink{class_menu_list_label_aa4b43b15d99168836a26ce8e9cf996a6}{setOpcionResaltada}(mOpcionMenuResaltadaActual - 1);
                    \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{case} SDLK\_DOWN:
                    \hyperlink{class_menu_list_label_aa4b43b15d99168836a26ce8e9cf996a6}{setOpcionResaltada}(mOpcionMenuResaltadaActual + 1);
                    \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{case} SDLK\_RETURN:
                    ejecutarAccionOpcionResaltada();
                    \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{default}:
                    \textcolor{keywordflow}{break};
            \}
        \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(evento->type == SDL\_JOYAXISMOTION&&evento->jaxis.type == SDL\_JOYAXISMOTION)\{
            \textcolor{keywordflow}{if}(evento->jaxis.axis != 0)\{
                \textcolor{keywordflow}{if}(evento->jaxis.value > 10)\{
                    \hyperlink{class_menu_list_label_aa4b43b15d99168836a26ce8e9cf996a6}{setOpcionResaltada}(mOpcionMenuResaltadaActual + 1);
                \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(evento->jaxis.value < -10)\{
                    \hyperlink{class_menu_list_label_aa4b43b15d99168836a26ce8e9cf996a6}{setOpcionResaltada}(mOpcionMenuResaltadaActual - 1);
                \}
            \}
        \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(evento->type == SDL\_JOYBUTTONDOWN)\{
            \textcolor{keywordflow}{if}(evento->jbutton.type == SDL\_JOYBUTTONDOWN)
                \textcolor{keywordflow}{if}(evento->jbutton.button + 1==3)
                    ejecutarAccionOpcionResaltada();

        \}
    \}
    \textcolor{keywordtype}{void} draw(SDL\_Renderer *renderer)\textcolor{keyword}{ override }\{
        \textcolor{keywordflow}{if}(mLayoutBackGround->\hyperlink{class_layout_vertical_a90f1b16b40a8765bb59d536b667e13e4}{isDisabled}())\{
            SDL\_Rect rect = mGameManagerInterfaz->getRectScreen();
            mLayoutBackGround->\hyperlink{class_layout_vertical_a02eea5b9dd8197100d964d0e6f33e208}{pack}(renderer);
            mLayoutBackGround->setRectDibujo(rect);
            mLayoutBackGround->\hyperlink{class_layout_component_a0ee8a3146a3258a9886472b86cf34a16}{draw}(renderer);
        \}
    \}

    \textcolor{keyword}{virtual} ~\hyperlink{class_menu_list_label}{MenuListLabel}()\textcolor{keyword}{ override }\{
        \textcolor{keyword}{delete} mLayoutBackGround; \textcolor{comment}{// Al liberar el layout parent se liberan todos sus mComponentes}

        \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0 ; i < menuTextOptions.size();i++)\{
            \textcolor{keyword}{delete} menuTextOptions[i];
        \}
    \}

\textcolor{keyword}{protected}:

    deque<LabelComponent  *> menuTextOptions;
    \hyperlink{class_layout_vertical}{LayoutVertical} * mLayout    = \textcolor{keyword}{nullptr};
    \hyperlink{class_layout_vertical}{LayoutVertical} *mLayoutBackGround = \textcolor{keyword}{nullptr};

    deque<string> mMenuOpcionesText;

    SDL\_Color mColorLabelNormal    \{255,0,0,255\};
    SDL\_Color mColorLabelResaltado \{255,255,0,255\};
    \textcolor{keywordtype}{int} mOpcionMenuResaltadaActual = -1;
\};

\textcolor{preprocessor}{#endif //BOMBERMAN\_MENULISTLABEL\_HPP}
\end{DoxyCodeInclude}
 